<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="HonorsApplication.Pages.ProjectsPage"
             xmlns:viewmodel="clr-namespace:HonorsApplication.ViewModels"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:project="clr-namespace:HonorsApplication.ProgramClasses"
             x:DataType="viewmodel:ProjectsPageViewModel"
             Title="Projects">

    <Grid RowDefinitions="auto,Auto,*,Auto"
        ColumnDefinitions=".05*, .90*, .05*" 
        Padding="10"
        RowSpacing="10"
        ColumnSpacing="10">

        <Label Grid.Column="1"  Text="{Binding,StringFormat=='{}{0}s Projects'}" HorizontalOptions="Center" FontSize="24" HorizontalTextAlignment="Center"/>

        <ScrollView Grid.Row="2" Grid.Column="1" HorizontalOptions="Center">

            <CollectionView ItemsSource="{Binding User.currentProjects}" SelectionMode="None">

                <CollectionView.ItemTemplate>

                    <DataTemplate x:DataType="project:Project">

                        <Grid Padding="0,5" >

                            <Frame>

                                <Grid 
                                    RowDefinitions="Auto,Auto,15,15,20"
                                    ColumnDefinitions=".35*,.30*,.35*"
                                    Padding="10"
                                    RowSpacing="10"
                                    ColumnSpacing="10">


                                    <Label Text="{Binding}" FontSize="24" Grid.ColumnSpan="3" HorizontalOptions="Center" FontAttributes="Bold"/>

                                    <Label Text="{Binding, StringFormat='{}{0}. Assgined Tasks:'}" Grid.Column="3" Grid.Row="1" HorizontalTextAlignment="End"/>
                                    
                                    <Label Text="{Binding }" Grid.Row="2"/>

                                    <ProgressBar Grid.Row="4" Grid.ColumnSpan="3" Progress="{Binding}" ProgressColor="Green" HeightRequest="10"/> 

                                </Grid>

                            </Frame>

                        </Grid>

                    </DataTemplate>

                </CollectionView.ItemTemplate>

            </CollectionView>

        </ScrollView>

        <Button Text="New Project" Grid.Row="3" Grid.Column="1" MinimumWidthRequest="100"/>

    </Grid>
</ContentPage>

